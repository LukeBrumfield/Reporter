<!DOCTYPE html>

<head>
  <title>Pivot Demo</title>
  <link rel="stylesheet" type="text/css" href="dist/pivot.css">
  <link rel="stylesheet" type="text/css" href="reporter.css">
  <script type="text/javascript" src="reporter.js"></script>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="jqueryui/jquery-ui.min.js"></script>
  <script type="text/javascript" src="dist/pivot.js"></script>
  <script type="text/javascript" src="data/keys.js"></script>
  <script type="text/javascript" src="data/cols.js"></script>
  <script type="text/javascript" src="data/defaults.js"></script>
  <script type="text/javascript" src="data/data.js"></script>
  <script type="text/javascript" src="tableExport/libs/jsPDF/jspdf.min.js"></script>
  <script type="text/javascript" src="tableExport/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
  <script type="text/javascript" src="tableExport/libs/FileSaver/FileSaver.min.js"></script>
  <script type="text/javascript" src="tableExport/tableExport.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      var cols = getCols();
      $.each(cols, function(i, val) {
        $('#controls').append('<input type="checkbox" id="' + i + '" name="' + val + '">' + val + '</input>');
      });

      build($('#output1'));

      var sample = {
        "data": [{
          "Participant Status": "Number",
          "Disabled": "326",
          "Employed": "1188"
        }, {
          "Highest Degree": "US-Based(NonUS)",
          "No Schooling": "12(0)",
          "Grades1-5": "38(12)"
        }]
      };
      drawTable(sample, $('#output2'));

      var container = $('#output3');
      build2({}, ['industry'], ['union'], container);

      insertColumn(1, 3, -1, "Percent Label", "percent", [], container);

    });
  </script>

</head>

<body>
  <div id="details">
    <table class="pvtTable">
      <thead>
        <tr>
          <th colspan="4">Program Year 2015</th>
        </tr>
      </thead>
      <tbody id="params"></tbody>
    </table>
  </div>
  <div id="output1" style="margin: 30px;"></div>
  <div id="controls" style="margin: 30px;">
    <button onclick="build($('#output1'))">Pull</button>
  </div>
  <div id="output2" style="margin: 30px;"></div>
  <div id="output3" style="margin: 30px;"></div>
  <br/>
  <a href="#" onclick="$('.pvtTable').tableExport({type:'pdf'});">PDF</a>
  <a href="#" onclick="$('.pvtTable').tableExport({type:'pdf' ,jspdf: {orientation: 'l', format: 'bestfit'}});">PDF</a>
  <a href="#" onclick="$('.pvtTable').tableExport({type:'excel', tableSelector: '.pvtTable'});">Excel</a>
  <a href="#" onclick="$('.pvtTable').tableExport({type:'json'});">JSON</a>
</body>
